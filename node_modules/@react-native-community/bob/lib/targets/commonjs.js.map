{"version":3,"sources":["../../src/targets/commonjs.ts"],"names":["build","root","source","output","options","report","info","chalk","blue","path","relative","modules","babelrc","configFile","copyFlow"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAWe,eAAeA,KAAf,CAAqB;AAClCC,EAAAA,IADkC;AAElCC,EAAAA,MAFkC;AAGlCC,EAAAA,MAHkC;AAIlCC,EAAAA,OAJkC;AAKlCC,EAAAA;AALkC,CAArB,EAMH;AACVA,EAAAA,MAAM,CAACC,IAAP,CACG,iCAAgCC,eAAMC,IAAN,CAAWC,cAAKC,QAAL,CAAcT,IAAd,EAAoBE,MAApB,CAAX,CAAwC,EAD3E;AAIA,QAAM,kBAAI,CAACA,MAAD,CAAJ,CAAN;AAEA,QAAM,sBAAQ;AACZF,IAAAA,IADY;AAEZC,IAAAA,MAFY;AAGZC,IAAAA,MAHY;AAIZQ,IAAAA,OAAO,EAAE,UAJG;AAKZC,IAAAA,OAAO,EAAER,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEQ,OALN;AAMZC,IAAAA,UAAU,EAAET,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAES,UANT;AAOZC,IAAAA,QAAQ,EAAEV,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEU,QAPP;AAQZT,IAAAA;AARY,GAAR,CAAN;AAUD","sourcesContent":["import path from 'path';\nimport chalk from 'chalk';\nimport del from 'del';\nimport compile from '../utils/compile';\nimport type { Input } from '../types';\n\ntype Options = Input & {\n  options?: {\n    babelrc?: boolean | null;\n    configFile?: string | false | null;\n    copyFlow?: boolean;\n  };\n};\n\nexport default async function build({\n  root,\n  source,\n  output,\n  options,\n  report,\n}: Options) {\n  report.info(\n    `Cleaning up previous build at ${chalk.blue(path.relative(root, output))}`\n  );\n\n  await del([output]);\n\n  await compile({\n    root,\n    source,\n    output,\n    modules: 'commonjs',\n    babelrc: options?.babelrc,\n    configFile: options?.configFile,\n    copyFlow: options?.copyFlow,\n    report,\n  });\n}\n"],"file":"commonjs.js"}